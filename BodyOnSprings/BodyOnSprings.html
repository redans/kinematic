<!DOCTYPE html>
<html>

<head>
    <title>kinematic body</title>
    <link rel="icon"
        href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMjU2IgogICBoZWlnaHQ9IjI1NiIKICAgdmlld0JveD0iMCAwIDI1NiAyNTYiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9IlNWR1Jvb3QiCiAgIHNvZGlwb2RpOmRvY25hbWU9Imljb24uc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjIuMiAoYjBhODQ4NiwgMjAyMi0xMi0wMSkiCiAgIGlua3NjYXBlOmRhdGFsb3NzPSJ0cnVlIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0ibmFtZWR2aWV3ODkiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjMDAwMDAwIgogICAgIGJvcmRlcm9wYWNpdHk9IjAuMjUiCiAgICAgaW5rc2NhcGU6c2hvd3BhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICAgIGlua3NjYXBlOmRlc2tjb2xvcj0iI2QxZDFkMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6em9vbT0iMi42ODAyODg0IgogICAgIGlua3NjYXBlOmN4PSIxNDcuMTg1NjUiCiAgICAgaW5rc2NhcGU6Y3k9IjEyMy42ODA3MiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE2ODAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTMzIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ5NSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8ZGVmcwogICAgIGlkPSJkZWZzODQiIC8+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJvcGFjaXR5OjAuOTtmaWxsOiNmZjk5NTU7c3Ryb2tlOiNmZjk5NTU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgaWQ9InJlY3QyMTc4IgogICAgICAgd2lkdGg9IjI1NSIKICAgICAgIGhlaWdodD0iMjU1IgogICAgICAgeD0iMCIKICAgICAgIHk9IjAiCiAgICAgICByeT0iMjUiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMCIKICAgICAgIGQ9Ik0gMTI0Ljk0ODExLDExOS45MjE0NiAyMTUuMDY4NzIsMjQuNzc0MTk0IgogICAgICAgaWQ9InBhdGg5MzYiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtzdHJva2U6IzAwMDAwMCIKICAgICAgIGQ9Ik0gMjAwLDQ1IDIyNSwyMCIKICAgICAgIGlkPSJwYXRoOTM4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7c3Ryb2tlOiMwMDAwMDAiCiAgICAgICBkPSJNIDIwMC40MjQ2OCw0Mi45MjQ2OCAyMTAsODAiCiAgICAgICBpZD0icGF0aDkzOC0wIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO3N0cm9rZTojMDAwMDAwIgogICAgICAgZD0iTSAyMDIuMDc1MzIsNDQuNTc1MzIgMTY1LDM1IgogICAgICAgaWQ9InBhdGg5MzgtMC05IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxNjtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBpZD0icGF0aDEwOTQiCiAgICAgICBjeD0iNTAiCiAgICAgICBjeT0iMTE1IgogICAgICAgcj0iMzAiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDBmZjtzdHJva2Utd2lkdGg6MTY7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgZD0ibSA1MCwxMTUgaCA4NSBsIDY1LC03MCIKICAgICAgIGlkPSJwYXRoMTE5NiIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwZmY7c3Ryb2tlLXdpZHRoOjE4LjQ3NTI7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgZD0iTSAxMzUsMTE1IFYgMjM1IgogICAgICAgaWQ9InBhdGgxMTk4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxNjtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBkPSJNIDE2NSwzNSAyMjUsMjAgMjEwLDgwIFoiCiAgICAgICBpZD0icGF0aDIxMjAiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBpZD0icGF0aDg4MCIKICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7c3Ryb2tlOiMwMDAwMDAiCiAgICAgICBjeD0iMTI0Ljk0ODExIgogICAgICAgY3k9IjExOS45MjE0NiIKICAgICAgIHI9IjAuMTgwNzU0NDUiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmMDAwMDtzdHJva2U6IzAwMDAwMCIKICAgICAgIGlkPSJwYXRoMTA5NiIKICAgICAgIGN4PSIyMDAiCiAgICAgICBjeT0iNDUuNSIKICAgICAgIHI9IjEyLjUiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmMDAwMDtzdHJva2U6IzAwMDAwMCIKICAgICAgIGlkPSJwYXRoMTA5Ni0zLTIiCiAgICAgICBjeD0iNTAiCiAgICAgICBjeT0iMTE0LjUiCiAgICAgICByPSIxMi41IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOiNmZjAwMDA7c3Ryb2tlOiMwMDAwMDAiCiAgICAgICBpZD0icGF0aDEwOTYtMyIKICAgICAgIGN4PSIxMzUuNSIKICAgICAgIGN5PSIyMDUiCiAgICAgICByPSIxMi41IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxNjtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBkPSJtIDk1LDE4MSBoIDc1IHYgNTAgSCA5NSBaIgogICAgICAgaWQ9InBhdGg1MTkyIiAvPgogIDwvZz4KPC9zdmc+Cg=="
        type="image/svg+xml">
    <link rel="shortcut icon"
        href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iMjU2IgogICBoZWlnaHQ9IjI1NiIKICAgdmlld0JveD0iMCAwIDI1NiAyNTYiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9IlNWR1Jvb3QiCiAgIHNvZGlwb2RpOmRvY25hbWU9Imljb24uc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjIuMiAoYjBhODQ4NiwgMjAyMi0xMi0wMSkiCiAgIGlua3NjYXBlOmRhdGFsb3NzPSJ0cnVlIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0ibmFtZWR2aWV3ODkiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjMDAwMDAwIgogICAgIGJvcmRlcm9wYWNpdHk9IjAuMjUiCiAgICAgaW5rc2NhcGU6c2hvd3BhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlY2hlY2tlcmJvYXJkPSIwIgogICAgIGlua3NjYXBlOmRlc2tjb2xvcj0iI2QxZDFkMSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6em9vbT0iMi42ODAyODg0IgogICAgIGlua3NjYXBlOmN4PSIxNDcuMTg1NjUiCiAgICAgaW5rc2NhcGU6Y3k9IjEyMy42ODA3MiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE2ODAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTMzIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNSIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImxheWVyMSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgaWQ9ImdyaWQ5NSIgLz4KICA8L3NvZGlwb2RpOm5hbWVkdmlldz4KICA8ZGVmcwogICAgIGlkPSJkZWZzODQiIC8+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJvcGFjaXR5OjAuOTtmaWxsOiNmZjk5NTU7c3Ryb2tlOiNmZjk5NTU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgaWQ9InJlY3QyMTc4IgogICAgICAgd2lkdGg9IjI1NSIKICAgICAgIGhlaWdodD0iMjU1IgogICAgICAgeD0iMCIKICAgICAgIHk9IjAiCiAgICAgICByeT0iMjUiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMCIKICAgICAgIGQ9Ik0gMTI0Ljk0ODExLDExOS45MjE0NiAyMTUuMDY4NzIsMjQuNzc0MTk0IgogICAgICAgaWQ9InBhdGg5MzYiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtzdHJva2U6IzAwMDAwMCIKICAgICAgIGQ9Ik0gMjAwLDQ1IDIyNSwyMCIKICAgICAgIGlkPSJwYXRoOTM4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7c3Ryb2tlOiMwMDAwMDAiCiAgICAgICBkPSJNIDIwMC40MjQ2OCw0Mi45MjQ2OCAyMTAsODAiCiAgICAgICBpZD0icGF0aDkzOC0wIgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojMDAwMDAwO3N0cm9rZTojMDAwMDAwIgogICAgICAgZD0iTSAyMDIuMDc1MzIsNDQuNTc1MzIgMTY1LDM1IgogICAgICAgaWQ9InBhdGg5MzgtMC05IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxjaXJjbGUKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxNjtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBpZD0icGF0aDEwOTQiCiAgICAgICBjeD0iNTAiCiAgICAgICBjeT0iMTE1IgogICAgICAgcj0iMzAiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDBmZjtzdHJva2Utd2lkdGg6MTY7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgZD0ibSA1MCwxMTUgaCA4NSBsIDY1LC03MCIKICAgICAgIGlkPSJwYXRoMTE5NiIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwZmY7c3Ryb2tlLXdpZHRoOjE4LjQ3NTI7c3Ryb2tlLWRhc2hhcnJheTpub25lIgogICAgICAgZD0iTSAxMzUsMTE1IFYgMjM1IgogICAgICAgaWQ9InBhdGgxMTk4IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxNjtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBkPSJNIDE2NSwzNSAyMjUsMjAgMjEwLDgwIFoiCiAgICAgICBpZD0icGF0aDIxMjAiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBpZD0icGF0aDg4MCIKICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7c3Ryb2tlOiMwMDAwMDAiCiAgICAgICBjeD0iMTI0Ljk0ODExIgogICAgICAgY3k9IjExOS45MjE0NiIKICAgICAgIHI9IjAuMTgwNzU0NDUiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmMDAwMDtzdHJva2U6IzAwMDAwMCIKICAgICAgIGlkPSJwYXRoMTA5NiIKICAgICAgIGN4PSIyMDAiCiAgICAgICBjeT0iNDUuNSIKICAgICAgIHI9IjEyLjUiIC8+CiAgICA8Y2lyY2xlCiAgICAgICBzdHlsZT0ib3BhY2l0eToxO2ZpbGw6I2ZmMDAwMDtzdHJva2U6IzAwMDAwMCIKICAgICAgIGlkPSJwYXRoMTA5Ni0zLTIiCiAgICAgICBjeD0iNTAiCiAgICAgICBjeT0iMTE0LjUiCiAgICAgICByPSIxMi41IiAvPgogICAgPGNpcmNsZQogICAgICAgc3R5bGU9Im9wYWNpdHk6MTtmaWxsOiNmZjAwMDA7c3Ryb2tlOiMwMDAwMDAiCiAgICAgICBpZD0icGF0aDEwOTYtMyIKICAgICAgIGN4PSIxMzUuNSIKICAgICAgIGN5PSIyMDUiCiAgICAgICByPSIxMi41IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJvcGFjaXR5OjE7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxNjtzdHJva2UtZGFzaGFycmF5Om5vbmUiCiAgICAgICBkPSJtIDk1LDE4MSBoIDc1IHYgNTAgSCA5NSBaIgogICAgICAgaWQ9InBhdGg1MTkyIiAvPgogIDwvZz4KPC9zdmc+Cg=="
        type="image/svg+xml">

    <link rel="stylesheet" type="text/css" href="./lib/StyleBodyLib.css">


</head>



<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>


<script src="https://cdn.plot.ly/plotly-2.20.0.min.js" charset="utf-8"></script>
<!--  <script src="https://cdn.jsdelivr.net/npm/newton-raphson-method@1.0.2/index.min.js"></script> -->

<script src="./lib/bodyLib.js"></script>


<header>
    <h1>Impact of Disturbance Forces on Kinematic Body</h1>
</header>

<footer style="text-align: left; background-color: rgb(159, 157, 157);">
    DRAFT <br>
    version 01<br> 09-06-2023

</footer>

<main>


    <div>


        <table>


            <tr>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
            </tr>
            <tr>

                <td class="hold left" colspan="5">
                    <h2>Calculation Tool Functionality</h2>
                    <p>This tool provides a comprehensive analysis of a rigid body subjected to forces. The body must be
                        constrained by 6 degrees of freedom, with each degree of freedom having stiffness in its normal
                        direction. The tool visualizes the constraints in the 3D plot. The required inputs for the tool
                        are as follows:</p>
                    <ol>
                        <li>Interface normals in column format [nx, ny, nz] (6x) with row numbers corresponding to
                            n1...n6.</li>
                        <li>Interface points in column format [x, y, z] (6x) with row numbers corresponding to p1...p6.
                        </li>
                        <li>Stiffness values for the interfaces in the normal directions (6x) corresponding to n1...n6.
                        </li>
                        <li>Closing forces in column format [Fx, Fy, Fz]. The number of force entries (rows) is
                            flexible.</li>
                        <li>Closing force locations in column format [x, y, z]. The number of locations should
                            correspond to the number of forces.</li>
                    </ol>
                    <p>Outputs are forces on the interfaces, deformation of those interfaces and the body deformation
                        defined in World Coordinate System (WCS).</p>
                    All calculations are performed in the unit system, preferably use meters to avoid misinterpretation.
                    The interface normals
                    are automatically normalized in the background, eliminating the need for user intervention.
                    </ol>


                    </p>
                </td>

                <td class="centered" colspan="5">

                    <!--  <canvas id="plotConfig"></canvas> -->
                    <table id="plotConfig"></table>


                </td>
            </tr>
            <tr>
                <td class="centered" colspan="5"><i>Mind that error handling is very limited. No results is probably
                        caused by wrong input. Check the body is actually constrained and make sure the closing force
                        has connection points to the body. Also make sure all input are numerical values.</i></td>


                <td class="centered" colspan="5">
                    <sub>
                        <span style="color: red;">Red line</span> representing interface normals towards the
                        <span style="color: blue;">blue dot</span> indicating interface points.
                        <span style="color: green;">Green line</span> representing a "pulling" force
                        to the <span style="color: green;">green dot</span> indicating the connection point. No arrows
                        because plotly.js doesn't provide those.
                    </sub>
                </td>
            </tr>
            <tr>
                <td colspan="10">
                    <div class="resultbar">INPUTS and drawing option</div>
                </td>
            </tr>
            <td class="centered" colspan="3">
                <button type="submit" onclick="drawVectors()" style="background-color: rgb(6, 60, 11); color: white;">
                    PRESS --> draw new input vectors and re-calculate</button>
            </td>
            <td><!-- empty cell --></td>
            <td><!-- empty cell --></td>
            <td><!-- empty cell --></td>
            <td><!-- empty cell --></td>
            <td><!-- empty cell --></td>
            <td><!-- empty cell --></td>
            <td><!-- empty cell --></td>


            <tr>
                <td class="centered" colspan="5">
                    <label for="surface-normals-input">normals of interfaces [nx ny nz]</label>
                </td>

                <td class="centered" colspan="5">
                    <label for="surface-points-input">interfaces points [px py pz]</label>
                </td>
            </tr>

            <tr>
                <td class="centered" colspan="5">
                    <textarea id="surface-normals-input" rows="6" cols="70"></textarea>
                </td>

                <td class="centered" colspan="5">
                    <textarea id="surface-points-input" rows="6" cols="70"></textarea>
                </td>
            </tr>

            <td class="centered" colspan="2">
                <br>
                Interface stiffness <br> <sub>in normal direction</sub>
            </td>
            <td class="centered" colspan="4">
                <br>
                closing force [Fx Fy Fz]
            </td>

            <td class="centered" colspan="4">
                <br>
                closing force location [x y z]
            </td>

            </tr>

            <tr>
                <td class="centered" colspan="2">
                    <textarea id="initial-stiffness-input" name="textarea5" rows="6" cols="20"></textarea>
                </td>
                <td class="centered" colspan="4">
                    <textarea id="applied-force-input" name="textarea3" rows="6" cols="55"></textarea>
                </td>

                <td class="centered" colspan="4">
                    <textarea id="applied-coordinates-input" name="textarea4" rows="6" cols="55"></textarea>
                </td>
            </tr>

            </tr>

            <tr>
                <td colspan="10">
                    <div class="resultbar">CALCULATION RESULTS</div>
                </td>
            </tr>


            </tr>

            <tr>
                <td><!-- empty cell --></td>
                <td class="centered" colspan="2">
                    <table id="ForcesOnIf"></table>
                </td>
                <td><!-- empty cell --></td>
                <td class="centered" colspan="2">
                    <table id="DefOffIf"></table>
                </td>
                <td><!-- empty cell --></td>
                <td class="centered" colspan="2">
                    <table id="DefOffWCS"></table>
                </td>
                <td><!-- empty cell --></td>

            </tr>
            <tr>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
                <td><!-- empty cell --></td>
            </tr>




        </table>

    </div>

    <script>

        let surfaceNormals = [
            [0, 1, 0],
            [0, 1, 0],
            [1, 0, 0],
            [0, 0, 1],
            [0, 0, 1],
            [0, 0, 1]
        ];

        let surfacePoints = [
            [1, 0, 0],
            [5, 0, 0],
            [0, 1, 0],
            [1, 1, 0],
            [5, 1, 0],
            [3, 2, 0]
        ];

        let appliedForce = [
            [-0.969, -1.7, -2.001],
            [1.969, 1.7, 1]
        ];

        let appliedCoordinates = [
            [2.524, 1.382, 0.159],
            [0.524, 0.382, 1]
        ];

        let frictionCoefficient = 0.25;
        let initialStiffness = [
            [5e6],
            [5e6],
            [5e6],
            [5e6],
            [5e6],
            [5e6]
        ];

        let defaultAccuracy = 1e-2;
        let forceScanRange = 0.1;
        let forceNumPoints = 31;
        let forceAccuracy = 0.01;
        let coordScanRange = 0.1;
        let coordNumPoints = 31;
        let coordAccuracy = 0.01;
        let normalizedSurfaceNormals = [];
        let normalizedAppliedForce = [];

        fillTextareas()
        const boundingBoxSize = calculateBoundingBoxSize(surfacePoints);
        create3DPlot(normalizedSurfaceNormals, surfacePoints, math.multiply(normalizedAppliedForce, boundingBoxSize.maxDimension * 0.5), appliedCoordinates)
        drawVectors()


        function drawVectors() {
            updateTextareaValues()
            const boundingBoxSize = calculateBoundingBoxSize(surfacePoints);
            create3DPlot(normalizedSurfaceNormals, surfacePoints, math.multiply(normalizedAppliedForce, boundingBoxSize.maxDimension * 0.5), appliedCoordinates)

            A = ForceA(surfacePoints, normalizedSurfaceNormals)

            B = rowForceB(appliedForce, appliedCoordinates)


            const ForceIf = math.multiply(math.inv(A), B)
            def = dotMult(ForceIf, reciprocalArray(initialStiffness))
            
            mMat = math.multiply(motionAinv(normr(normalizedSurfaceNormals), surfacePoints), def)
            //console.log(math.multiply(motionAinv(normr(normalizedSurfaceNormals), surfacePoints), def))
            //console.log(math.multiply(motionAinv(normalizedSurfaceNormals, surfacePoints), def))

            //result = combineArrays(ForceIf, def)

            document.getElementById("ForcesOnIf").innerHTML = ForceIf;
            rowNames = ['n1', 'n2', 'n3', 'n4', 'n5', 'n6'];
            columnNames = ["Forces"];
            populateTable("ForcesOnIf", roundArrayToDecimals(ForceIf, 4), "12px", "fixed", rowNames, columnNames, "forces on interfaces")

            document.getElementById("DefOffIf").innerHTML = def;
            rowNames = ['n1', 'n2', 'n3', 'n4', 'n5', 'n6'];
            columnNames = ["Forces"];
            populateTable("DefOffIf", def, "12px", "exponential", rowNames, columnNames, "deformation interfaces")

            document.getElementById("DefOffWCS").innerHTML = mMat;
            rowNames = ['X', 'Y', 'Z', 'Rx', 'Ry', 'Rz'];
            columnNames = ["Forces"];
            populateTable("DefOffWCS", mMat, "12px", "exponential", rowNames, columnNames, "body deformation WCS")
        }













    </script>




</main>




</html>